
<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>AR –í—ñ–∫—Ç–æ—Ä–∏–Ω–∞: –°–∏–º–≤–æ–ª–∏ –£–∫—Ä–∞—ó–Ω–∏</title>

  <!-- A-Frame -->
  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>

  <!-- AR.js -->
  <script src="https://cdn.jsdelivr.net/npm/ar.js@3.4.5/aframe/build/aframe-ar.js"></script>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      font-family: Arial, sans-serif;
      background: #000;
      touch-action: manipulation;
    }

    #startScreen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      color: #FFD700;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      z-index: 200;
      font-size: 1.5em;
      padding: 20px;
    }

    #startBtn {
      margin-top: 30px;
      background: #0055A4;
      color: #FFD700;
      padding: 16px 32px;
      border: none;
      border-radius: 30px;
      font-size: 1.2em;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    }

    #startBtn:hover {
      background: #003087;
    }

    #arContainer {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }

    #smartLessaBtn {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #0055A4;
      color: #FFD700;
      padding: 14px 28px;
      border-radius: 30px;
      font-size: 1.1em;
      font-weight: bold;
      text-decoration: none;
      z-index: 100;
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
      text-align: center;
    }
  </style>
</head>
<body>
  <!-- –ï–∫—Ä–∞–Ω –ø–æ—á–∞—Ç–∫—É -->
  <div id="startScreen">
    <h2>AR –í—ñ–∫—Ç–æ—Ä–∏–Ω–∞: –£–∫—Ä–∞—ó–Ω–∞</h2>
    <p>–ù–∞–≤–µ–¥–∏ –∫–∞–º–µ—Ä—É –Ω–∞ –º–∞—Ä–∫–µ—Ä Hiro</p>
    <p>–ì—Ä–∞ –ø—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ –Ω–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó</p>
    <button id="startBtn">–†–æ–∑–ø–æ—á–∞—Ç–∏ AR</button>
  </div>

  <!-- AR –°—Ü–µ–Ω–∞ -->
  <div id="arContainer">
    <a-scene
      embedded
      arjs="trackingMethod: best; detectionMode: mono_and_matrix; debugUIEnabled: false; sourceType: webcam; facingMode: environment;"
      renderer="colorFormat: rgba; clearAlpha: 0;"
      vr-mode-ui="enabled: false"
    >
      <a-marker preset="hiro" id="marker">
        <a-entity id="game-container" position="0 0 0" rotation="-90 0 0" scale="0.5 0.5 0.5">
          <!-- –ü–∏—Ç–∞–Ω–Ω—è -->
          <a-text
            id="question"
            value="–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è..."
            font="https://cdn.aframe.io/fonts/Roboto-msdf.json"
            width="30"
            wrapCount="20"
            align="center"
            color="#FFD700"
            position="0 3 0"
          ></a-text>

          <!-- –í—ñ–¥–ø–æ–≤—ñ–¥—ñ -->
          <a-entity id="ansA" class="answer" position="-1.5 1 0">
            <a-plane width="3" height="0.8" color="#0055A4" opacity="0.9"></a-plane>
            <a-text class="ans-text" value="" width="20" align="center" color="white" position="0 -0.3 0.01"></a-text>
          </a-entity>

          <a-entity id="ansB" class="answer" position="0 1 0">
            <a-plane width="3" height="0.8" color="#0055A4" opacity="0.9"></a-plane>
            <a-text class="ans-text" value="" width="20" align="center" color="white" position="0 -0.3 0.01"></a-text>
          </a-entity>

          <a-entity id="ansC" class="answer" position="1.5 1 0">
            <a-plane width="3" height="0.8" color="#0055A4" opacity="0.9"></a-plane>
            <a-text class="ans-text" value="" width="20" align="center" color="white" position="0 -0.3 0.01"></a-text>
          </a-entity>

          <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
          <a-entity id="resultBox" visible="false">
            <a-text
              id="resultText"
              value=""
              font="https://cdn.aframe.io/fonts/Roboto-msdf.json"
              width="35"
              wrapCount="22"
              align="center"
              color="#FFD700"
              position="0 2 0"
            ></a-text>
            <a-entity id="restartBtn" position="0 0.5 0">
              <a-plane width="2.5" height="0.8" color="#FFD700" opacity="0.9"></a-plane>
              <a-text value="–†–æ–∑–ø–æ—á–∞—Ç–∏ –∑–Ω–æ–≤—É" width="20" align="center" color="black" position="0 -0.3 0.01"></a-text>
            </a-entity>
          </a-entity>
        </a-entity>
      </a-marker>

      <!-- –ö–∞–º–µ—Ä–∞ –∑ –∫—É—Ä—Å–æ—Ä–æ–º -->
      <a-camera cursor="rayOrigin: mouse"></a-camera>
    </a-scene>
  </div>

  <!-- –ü–æ—Å–∏–ª–∞–Ω–Ω—è -->
  <a href="https://youtube.com/playlist?list=PL6UDFwT9TzFxsVdFiEBsQ9yFpcYRPOpfO"
     id="smartLessaBtn" target="_blank">@SmartLessa</a>

  <script>
    const startScreen = document.getElementById('startScreen');
    const startBtn = document.getElementById('startBtn');
    const marker = document.getElementById('marker');
    const question = document.getElementById('question');
    const ansA = document.getElementById('ansA');
    const ansB = document.getElementById('ansB');
    const ansC = document.getElementById('ansC');
    const resultBox = document.getElementById('resultBox');
    const resultText = document.getElementById('resultText');
    const restartBtn = document.querySelector('#restartBtn');

    // –ü–∏—Ç–∞–Ω–Ω—è
    const questions = [
      { q: "–Ø–∫–∏–π –¥–µ—Ä–∂–∞–≤–Ω–∏–π —Å–∏–º–≤–æ–ª –£–∫—Ä–∞—ó–Ω–∏?", options: ["–õ–µ–≤", "–¢—Ä–∏–∑—É–±", "–û—Ä–µ–ª"], correct: 1 },
      { q: "–Ø–∫–∞ —Ä–æ—Å–ª–∏–Ω–∞ —Å–∏–º–≤–æ–ª—ñ–∑—É—î –∫—Ä–∞—Å—É —Ç–∞ –ª—é–±–æ–≤?", options: ["–®–∏–ø—à–∏–Ω–∞", "–ö–∞–ª–∏–Ω–∞", "–ú–∞–∫"], correct: 1 },
      { q: "–Ø–∫–∏–π –º—É–∑–∏—á–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≥—Ä–∞—î –∫–æ–±–∑–∞—Ä?", options: ["–ë–∞—è–Ω", "–°–æ–ø—ñ–ª–∫–∞", "–ë–∞–Ω–¥—É—Ä–∞"], correct: 2 },
      { q: "–Ø–∫ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è —Ç—Ä–∞–¥–∏—Ü—ñ–π–Ω–∞ –≤–∏—à–∏–≤–∞–Ω–∞ —Å–æ—Ä–æ—á–∫–∞?", options: ["–§—É—Ç–±–æ–ª–∫–∞", "–°–æ—Ä–æ—á–∫–∞", "–í–∏—à–∏–≤–∞–Ω–∫–∞"], correct: 2 },
      { q: "–©–æ –¥–∞—Ä—É—é—Ç—å –Ω–∞ –í–µ–ª–∏–∫–¥–µ–Ω—å —ñ–∑ –≤—ñ–∑–µ—Ä—É–Ω–∫–∞–º–∏?", options: ["–ü–∏—Å–∞–Ω–∫—É", "–ü–ª—é—à–∫—É", "–ö–∞—Ä—Ç–∫—É"], correct: 0 }
    ];

    let currentQ = 0;
    let score = 0;

    function startGame() {
      currentQ = 0;
      score = 0;
      resultBox.setAttribute('visible', false);
      showQuestion();
    }

    function showQuestion() {
      if (currentQ < questions.length) {
        const q = questions[currentQ];
        question.setAttribute('value', q.q);
        ansA.querySelector('.ans-text').setAttribute('value', q.options[0]);
        ansB.querySelector('.ans-text').setAttribute('value', q.options[1]);
        ansC.querySelector('.ans-text').setAttribute('value', q.options[2]);

        ansA.dataset.correct = (0 === q.correct);
        ansB.dataset.correct = (1 === q.correct);
        ansC.dataset.correct = (2 === q.correct);
      } else {
        const stars = score === 5 ? 'üåüüåüüåü' : score >= 3 ? 'üåüüåü' : 'üåü';
        resultText.setAttribute('value', `–¢–∏ –≤—ñ–¥–ø–æ–≤—ñ–≤ –Ω–∞ ${score} –∑ 5 –ø–∏—Ç–∞–Ω—å!\n${stars}`);
        resultBox.setAttribute('visible', true);
      }
    }

    function handleAnswer(el) {
      if (el.dataset.correct === 'true') score++;
      currentQ++;
      setTimeout(showQuestion, 600);
    }

    [ansA, ansB, ansC].forEach(el => {
      el.addEventListener('click', () => handleAnswer(el));
    });

    restartBtn.addEventListener('click', startGame);

    marker.addEventListener('markerFound', () => {
      startGame();
    });

    startBtn.addEventListener('click', () => {
      startScreen.style.display = 'none';
    });

    window.addEventListener('resize', () => {
      document.body.style.height = window.innerHeight + 'px';
    });
    document.body.style.height = window.innerHeight + 'px';
  </script>
</body>
</html>
